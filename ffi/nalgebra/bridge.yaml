dependency:
  name: "nalgebra"
  version: "0.32"
functions:
  - name: "vector3_new"
    params: ["F64", "F64", "F64"]
    result: "Opaque"
    doc: "Creates a Vector3<f64> and returns an opaque handle."
    call:
      kind: expr
      expr: "ffi_store::insert(ffi_dep::Vector3::<f64>::new({0}, {1}, {2}))"
  - name: "vector3_add"
    params: ["Opaque", "Opaque"]
    result: "Opaque"
    doc: "Adds two vectors and returns a new handle."
    call:
      kind: expr
      expr: "ffi_store::insert(ffi_store::get::<ffi_dep::Vector3<f64>>({0}) + ffi_store::get::<ffi_dep::Vector3<f64>>({1}))"
  - name: "vector3_sub"
    params: ["Opaque", "Opaque"]
    result: "Opaque"
    doc: "Subtracts two vectors (left - right) and returns a new handle."
    call:
      kind: expr
      expr: "ffi_store::insert(ffi_store::get::<ffi_dep::Vector3<f64>>({0}) - ffi_store::get::<ffi_dep::Vector3<f64>>({1}))"
  - name: "vector3_scale"
    params: ["Opaque", "F64"]
    result: "Opaque"
    doc: "Scales a vector by the provided scalar and returns a new handle."
    call:
      kind: expr
      expr: "ffi_store::insert(ffi_store::get::<ffi_dep::Vector3<f64>>({0}) * {1})"
  - name: "vector3_norm"
    params: ["Opaque"]
    result: "F64"
    doc: "Computes the Euclidean norm of a vector handle."
    call:
      kind: expr
      expr: "ffi_store::get::<ffi_dep::Vector3<f64>>({0}).norm()"
  - name: "vector3_remove"
    params: ["Opaque"]
    result: "Unit"
    doc: "Drops the vector handle from the store."
    call:
      kind: expr
      expr: "({ ffi_store::remove::<ffi_dep::Vector3<f64>>({0}); () })"
